CKEDITOR.dialog.add("mdn-redirect",function(c){c=gettext("MDN Redirect");var e=mdn.wiki.autosuggestTitleUrl,b,d;return{title:c,minWidth:350,minHeight:230,contents:[{id:"info",label:c,title:c,elements:[{id:"autoselect",type:"text",label:gettext("Document"),"default":"",setup:function(a){if(!b){var c=this;b=this.getElement().getElementsByTag("input").$[0];d=jQuery(b);d.mozillaAutocomplete({minLength:1,requireValidOption:!0,_renderItemAsLink:!0,styleElement:b.parentNode,autocompleteUrl:e,onSelect:function(a,
b){a.url&&c.getDialog().getContentElement("info","url").setValue(a.url)},buildRequestData:function(a){a.current_locale=1;return a}})}jQuery(b).mozillaAutocomplete("clear")},commit:function(a){a.type=this.getValue()}},{id:"url",type:"text",label:gettext("URL"),"default":""}]}],onShow:function(){this.setupContent()},onOk:function(a){var c=a.sender.getParentEditor(),b=a.sender.getContentElement("info","autoselect").getValue();a=a.sender.getContentElement("info","url").getValue();var d=mdn.ckeditor.redirectPattern,
b=b.replace(/&/g,"\x26amp;").replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");c&&b&&a&&c.setData(d.replace("%(href)s",a).replace("%(title)s",b))},onFocus:function(){var a=this.getContentElement("info","autoselect");a&&a.focus()}}});